
<!DOCTYPE HTML>
<html>

<head>

<script src="js/jquery-1.10.2.js"></script>
<script src="js/vis.js"></script>
  <link href="http://visjs.org/dist/vis.css" rel="stylesheet" type="text/css" />
</head>
<body>
<h2>Weather</h2>
 <div class="temp" style="font-size: 60px;">0</div>
 
    
<div id="visualization"></div>

<script type="text/javascript">

  	
	
    var names = ['wind', 'temp', 'uniform', 'disabled'];
    
    var groups = new vis.DataSet();
    groups.add({
        id: 0,
        content: names[0],
        options: {
            drawPoints: false,
                     catmullRom: {
                parametrization: 'uniform'
            }
            
        }});

    groups.add({
        id: 1,
        content: names[1],
        options: {
            drawPoints: false,
            catmullRom: {
                parametrization: 'chordal'
            }
        }});	

var dataset = new vis.DataSet();
var container = document.getElementById('visualization');
    	
var i = 1;
var y = 0;
var x = 0;

var items = [];
var items2 =[];

    
    (function() {
  var flickerAPI = "http://vltavsky.com:500/weatherListJson.php";
  $.getJSON( flickerAPI, {
    offset: "0",
    limit: "160"  
  })
    .done(function( data ) {
      $.each( data, function( i, item ) {
        console.log(i+" : "+ item.windGust + ":" + item.date); 
          items.push({x: item.date, y: item.windGust, group: 0});
          items2.push({x: item.date, y: item.outTemp, group: 1});
         $( "div.temp" ).html( "Temp: " + item.outTemp.toFixed(1) + " C   Wind: " + item.windGust  + " mph");
         // $( "div.wind" ).html( "Wind: " + item.windGust );
      }); //each
	
      dataset.add(items);
      dataset.add(items2);


    var options = {
        dataPoints: false,
        dataAxis: {visible: true},
        legend: true,
            width:  window.innerWidth,
    height: '400px',
        
    };
    var graph2d = new vis.Graph2d(container, dataset, groups, options);

                
    });
})();
          

</script>
</body>
</html>
